import 'package:audioplayers/audioplayers.dart';
import 'package:flutter/cupertino.dart';
import 'package:musicapp/Models/MusicModel.dart';
import 'package:musicapp/Models/dataModel.dart';

class Data with ChangeNotifier {
  List<DataModel> data = [
    DataModel(
      movieCover:
          'https://lite-images-i.scdn.co/image/ab67616d0000b273ed1c305cd1e673fe925407ce',
      movieName: 'Arulo',
      musics: [
        MusicModel(
            singer: 'Arulo',
            songName: 'Complicated',
            songUrl:
                'https://audio-previews.elements.envatousercontent.com/files/281404327/preview.mp3?response-content-disposition=attachment%3B+filename%3D%22GBUXGY3-is-it-hip-hop.mp3%22'),
        MusicModel(
            singer: 'Arulo',
            songName: 'C.B.P.D',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-cbpd-400.mp3'),
        MusicModel(
            singer: 'Michael Ramir',
            songName: 'Night Sky',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-night-sky-970.mp3'),
        MusicModel(
            singer: 'Alejandro Magaña',
            songName: 'Trip Hop Vibes',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-trip-hop-vibes-149.mp3'),
        MusicModel(
            singer: 'Arulo',
            songName: 'Complicated',
            songUrl:
                'https://audio-previews.elements.envatousercontent.com/files/281404327/preview.mp3?response-content-disposition=attachment%3B+filename%3D%22GBUXGY3-is-it-hip-hop.mp3%22'),
        MusicModel(
            singer: 'Arulo',
            songName: 'C.B.P.D',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-cbpd-400.mp3'),
        MusicModel(
            singer: 'Michael Ramir',
            songName: 'Night Sky',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-night-sky-970.mp3'),
        MusicModel(
            singer: 'Alejandro Magaña',
            songName: 'Trip Hop Vibes',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-trip-hop-vibes-149.mp3'),
      ],
    ),
    /////
    DataModel(
      movieCover:
          'https://www.rollingstone.com/wp-content/uploads/2018/06/rs-148876-mj-1399044640.jpg',
      movieName: 'Michael',
      musics: [
        MusicModel(
            singer: 'Arulo',
            songName: 'Complicated',
            songUrl:
                'https://audio-previews.elements.envatousercontent.com/files/281404327/preview.mp3?response-content-disposition=attachment%3B+filename%3D%22GBUXGY3-is-it-hip-hop.mp3%22'),
        MusicModel(
            singer: 'Arulo',
            songName: 'C.B.P.D',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-cbpd-400.mp3'),
        MusicModel(
            singer: 'Michael Ramir',
            songName: 'Night Sky',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-night-sky-970.mp3'),
        MusicModel(
            singer: 'Alejandro Magaña',
            songName: 'Trip Hop Vibes',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-trip-hop-vibes-149.mp3'),
        MusicModel(
            singer: 'Arulo',
            songName: 'Complicated',
            songUrl:
                'https://audio-previews.elements.envatousercontent.com/files/281404327/preview.mp3?response-content-disposition=attachment%3B+filename%3D%22GBUXGY3-is-it-hip-hop.mp3%22'),
        MusicModel(
            singer: 'Arulo',
            songName: 'C.B.P.D',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-cbpd-400.mp3'),
        MusicModel(
            singer: 'Michael Ramir',
            songName: 'Night Sky',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-night-sky-970.mp3'),
        MusicModel(
            singer: 'Alejandro Magaña',
            songName: 'Trip Hop Vibes',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-trip-hop-vibes-149.mp3'),
      ],
    ),

    /////
    DataModel(
      movieCover:
          'https://edm.com/.image/ar_1:1%2Cc_fill%2Ccs_srgb%2Cq_auto:good%2Cw_1200/MTgzMDA2NTE2MTA0NjY4NTc5/main-cover-dp-mj-widescreen-screenshot-version.png',
      movieName: '3 Idiots',
      musics: [
        MusicModel(
            singer: 'Arulo',
            songName: 'Complicated',
            songUrl:
                'https://audio-previews.elements.envatousercontent.com/files/281404327/preview.mp3?response-content-disposition=attachment%3B+filename%3D%22GBUXGY3-is-it-hip-hop.mp3%22'),
        MusicModel(
            singer: 'Arulo',
            songName: 'C.B.P.D',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-cbpd-400.mp3'),
        MusicModel(
            singer: 'Michael Ramir',
            songName: 'Night Sky',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-night-sky-970.mp3'),
        MusicModel(
            singer: 'Alejandro Magaña',
            songName: 'Trip Hop Vibes',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-trip-hop-vibes-149.mp3'),
        MusicModel(
            singer: 'Arulo',
            songName: 'Complicated',
            songUrl:
                'https://audio-previews.elements.envatousercontent.com/files/281404327/preview.mp3?response-content-disposition=attachment%3B+filename%3D%22GBUXGY3-is-it-hip-hop.mp3%22'),
        MusicModel(
            singer: 'Arulo',
            songName: 'C.B.P.D',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-cbpd-400.mp3'),
        MusicModel(
            singer: 'Michael Ramir',
            songName: 'Night Sky',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-night-sky-970.mp3'),
        MusicModel(
            singer: 'Alejandro Magaña',
            songName: 'Trip Hop Vibes',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-trip-hop-vibes-149.mp3'),
      ],
    ),

    /////
    DataModel(
      movieCover:
          'https://upload.wikimedia.org/wikipedia/en/d/d6/MJ86Anthology.jpg',
      movieName: '3 Idiots',
      musics: [
        MusicModel(
            singer: 'Arulo',
            songName: 'Complicated',
            songUrl:
                'https://audio-previews.elements.envatousercontent.com/files/281404327/preview.mp3?response-content-disposition=attachment%3B+filename%3D%22GBUXGY3-is-it-hip-hop.mp3%22'),
        MusicModel(
            singer: 'Arulo',
            songName: 'C.B.P.D',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-cbpd-400.mp3'),
        MusicModel(
            singer: 'Michael Ramir',
            songName: 'Night Sky',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-night-sky-970.mp3'),
        MusicModel(
            singer: 'Alejandro Magaña',
            songName: 'Trip Hop Vibes',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-trip-hop-vibes-149.mp3'),
        MusicModel(
            singer: 'Arulo',
            songName: 'Complicated',
            songUrl:
                'https://audio-previews.elements.envatousercontent.com/files/281404327/preview.mp3?response-content-disposition=attachment%3B+filename%3D%22GBUXGY3-is-it-hip-hop.mp3%22'),
        MusicModel(
            singer: 'Arulo',
            songName: 'C.B.P.D',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-cbpd-400.mp3'),
        MusicModel(
            singer: 'Michael Ramir',
            songName: 'Night Sky',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-night-sky-970.mp3'),
        MusicModel(
            singer: 'Alejandro Magaña',
            songName: 'Trip Hop Vibes',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-trip-hop-vibes-149.mp3'),
      ],
    ),

    /////
    DataModel(
      movieCover:
          'https://d3t3ozftmdmh3i.cloudfront.net/production/podcast_uploaded_episode400/2626372/2626372-1627743245479-d8edeb01f453f.jpg',
      movieName: '3 Idiots',
      musics: [
        MusicModel(
            singer: 'Arulo',
            songName: 'Complicated',
            songUrl:
                'https://audio-previews.elements.envatousercontent.com/files/281404327/preview.mp3?response-content-disposition=attachment%3B+filename%3D%22GBUXGY3-is-it-hip-hop.mp3%22'),
        MusicModel(
            singer: 'Arulo',
            songName: 'C.B.P.D',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-cbpd-400.mp3'),
        MusicModel(
            singer: 'Michael Ramir',
            songName: 'Night Sky',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-night-sky-970.mp3'),
        MusicModel(
            singer: 'Alejandro Magaña',
            songName: 'Trip Hop Vibes',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-trip-hop-vibes-149.mp3'),
        MusicModel(
            singer: 'Arulo',
            songName: 'Complicated',
            songUrl:
                'https://audio-previews.elements.envatousercontent.com/files/281404327/preview.mp3?response-content-disposition=attachment%3B+filename%3D%22GBUXGY3-is-it-hip-hop.mp3%22'),
        MusicModel(
            singer: 'Arulo',
            songName: 'C.B.P.D',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-cbpd-400.mp3'),
        MusicModel(
            singer: 'Michael Ramir',
            songName: 'Night Sky',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-night-sky-970.mp3'),
        MusicModel(
            singer: 'Alejandro Magaña',
            songName: 'Trip Hop Vibes',
            songUrl:
                'https://assets.mixkit.co/music/preview/mixkit-trip-hop-vibes-149.mp3'),
      ],
    ),

    /////
  ];

  List<DataModel> getData() {
    return data;
  }

  AudioPlayer audioPlayer = AudioPlayer(mode: PlayerMode.MEDIA_PLAYER);
  Duration duration = new Duration();
  Duration position = new Duration();

  bool isMusicPlaying = false;

  bool getisMusicPlaying() {
    return isMusicPlaying;
  }

  void setisMusicPlaying(bool k) {
    isMusicPlaying = k;
    notifyListeners();
  }

  void play(String url) async {
    int result = await audioPlayer.play('$url');
    audioPlayer.onDurationChanged.listen((event) {
      print('changeddddd duration');
      duration = event;
      notifyListeners();
    });
    audioPlayer.onAudioPositionChanged.listen((event) {
      print('changeddddd position');
      position = event;
      notifyListeners();
    });
    isMusicPlaying = true;
    notifyListeners();
  }

  Duration getduration() {
    return duration;
  }

  Duration getposition() {
    return position;
  }

  void stop() async {
    int result = await audioPlayer.stop();
    isMusicPlaying = false;
    notifyListeners();
  }

  void forward(int dur) async {
    // print('$dur');
    int result = await audioPlayer.seek(Duration(milliseconds: dur));
  }

  void pause() async {
    int result = await audioPlayer.pause();
    isMusicPlaying = false;
    notifyListeners();
  }

  void resume() async {
    int result = await audioPlayer.resume();
  }
}
